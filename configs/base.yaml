# ============================================================
# AgenticFlow Enterprise — 전역 기본 설정
# ============================================================

system:
  # 기본 페르소나
  default_persona: "worker"

  # 체크포인팅
  checkpoint_enabled: true
  checkpoint_on_tool_call: true     # 외부 도구 호출 시 자동 체크포인트

  # 적대적 검증 (Devil's Advocate)
  debate_enabled: true
  debate_max_rounds: 3
  debate_approval_threshold: 7     # 0~10 점수, 이 값 미만이면 승인
  debate_auto_trigger_on_cloud: false  # CLOUD 라우팅 시 자동 토론 활성화

  # Human-in-the-loop
  hitl_enabled: true
  hitl_confidence_threshold: 0.6   # 이 값 미만이면 HITL 트리거

models:
  router: "local-router"
  worker: "local-worker"
  helper: "local-helper"
  cloud_default: "cloud-pm-gemini"

logging:
  level: "INFO"
  format: "%(asctime)s │ %(levelname)-7s │ %(name)-20s │ %(message)s"
  structured_events: true              # Phase 4: 구조화 이벤트 출력

# ── 보안 (Phase 2 & 5) ───────────────────────────────────────────
security:
  sandbox_enabled: true
  sandbox_type: "docker"               # Changed from blacklist to actual Docker container (Safeclaw)
  docker_base_image: "python:3.11-slim"
  network_mode: "bridge"               # "none" for strict isolation, "bridge" for external API access
  allowed_mount_paths:
    - host_path: "./output/"
      container_path: "/workspace/output"
      mode: "rw"
  max_execution_time_sec: 30
  max_memory_mb: 512

# ── 모델 티어링 (Phase 3) ────────────────────────────────────
model_tiering:
  enabled: true
  tiers:
    simple:
      models: ["local-helper"]
      description: "요약, 분류, 번역"
    standard:
      models: ["local-worker"]
      description: "코딩, 디버깅, 리팩토링"
    complex:
      models: ["cloud-pm-gemini", "cloud-pm-claude"]
      description: "아키텍처, 전략, 복잡 추론"
  cost_tracking:
    enabled: true
    alert_threshold_usd: 1.0

# ── OpenClaw 연동 (Phase 5) ──────────────────────────────────
openclaw:
  enabled: true
  base_dir: "~/.openclaw/"
  soul_file: "SOUL.md"
  memory_file: "MEMORY.md"
  mcp_server:
    enabled: true
    transport: "stdio"           # stdio | sse
    auto_warmup: true            # 서버 시작 시 모델 자동 로드
    sse_port: 8765               # SSE 모드 포트
  # 하드웨어 프로파일: "auto" = RAM 자동 감지
  # 수동 지정: m4_16gb | m4_32gb | m4_64gb | m4_128gb
  hardware_profile: "auto"
